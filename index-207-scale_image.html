<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>index-207-scale_image</title>
</head>
<body>
<div id="reversi"></div>
<!---->
<script src="js/game.canvas.js"></script>
<script src="js/game.core.js"></script>
<!---->
<script src="js/resource.image.js"></script>
<!---->
<script>
    (() => {
        let r = [];
        r.push(resource.image.load("_tkn0", "img/token0.png"));

        Promise.all(r).then(() => {
            let sz = game.core.getFitSz(10, 11);
            let c = game.canvas.initCnvs("reversi", sz.w, sz.h);

            c.cntx.fillStyle = "#aff";
            c.cntx.fillRect(0, 0, c.w, c.h);

            // initialize variable
            let imgTknSrc = resource.image.imgs._tkn0;
            let srcW = imgTknSrc.width;
            let srcH = imgTknSrc.height;
            let dstW = srcW / 3 | 0;// 縮小後のサイズ
            let dstH = srcH / 3 | 0;

            c.cntx.drawImage(imgTknSrc, 0, 0, srcW, srcH, 0, (c.h - dstH) / 2, dstW, dstH);

            let imgTknGen = game.canvas.getScaledImg(imgTknSrc, 0, 0, srcW, srcH, dstW, dstH);
            c.cntx.drawImage(imgTknGen, dstH, (c.h - dstH) / 2);
        });
    })();
</script>
</body>
</html>
